if(Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var a,n;if(null===this)throw new TypeError(" this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(a=t),n=0;o>n;){var r=void 0;n in i&&(r=i[n],e.call(a,r,n,i)),n++}}),Array.prototype.map||(Array.prototype.map=function(e,t){var a,n,i;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),r=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(a=t),n=new Array(r),i=0;r>i;){var l=void 0,d=void 0;i in o&&(l=o[i],d=e.call(a,l,i,o),n[i]=d),i++}return n}),!Array.isArray){var Array2=Array;Array2.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}}!function(e){var t=function(){function t(t){var a=t.element,n=t.options,i=this;this.isOther=!1,this.otherIndex=-1,this.itemIndex=-1,this.setState=function(e){e=e||i.$choice;var t=e.get(0),a=i.$label,n=t.checked,o=t.disabled,r=!1;n===!0&&(r=!0),o===!0&&a.addClass("disabled"),a.toggleClass("checked",r)},this.resetGroup=function(){var t='input[name="'+i.groupName+'"]',a=e(t);i.$form.length&&(a=i.$form.find(t)),a.next().removeClass("checked"),a.parent().removeClass("checked")},this.enable=function(){i.$choice.prop("disabled",!1)},this.disable=function(){i.$choice.prop("disabled",!0)},this.itemchecked=function(t){var a=e(t.target);i.resetGroup(),i.setState(a),i.showOtherItem(a)},this.check=function(){i.resetGroup(),i.$choice.prop("checked",!0),i.setState(i.$choice)},this.uncheck=function(){i.$choice.prop("checked",!1),i.setState(i.$choice)},this.isChecked=function(){return i.$choice.is(":checked")},this.showOtherItem=function(e){e=e||i.$choice;var t=e.is(":checked");i.$other&&i.$other.length&&i.$other.toggleClass("hide",i.isOther!==t)},this.otherItem=function(){var t=i.$form.find('input[name="'+i.groupName+'"]'),a=e(),n=t.index(i.$choice);i.itemIndex=n,a=i.$choice.closest(".radio-horizontal,.checkbox-horizontal,.radio-vertical,.checkbox-vertical").find(".form-control-other"),a.length?(i.$other=a,i.otherIndex=t.length-1,i.otherIndex===n&&(i.isOther=!0),i.isOther?(i.showOtherItem(i.$choice),i.$choice.val(i.$other.val()||i.$choice.data("value")),i.$other.on("change",function(){i.$choice.val(i.$other.val()||i.$choice.data("value"))}),i.$other.val()==i.$choice.data("value")&&i.$other.val("")):"radio"!==i.type&&(i.showOtherItem=function(){})):i.showOtherItem=function(){}};var o=e.extend;this.$element=e(a),this.type=this.$element.attr("type")||"radio",this.options=o({},e.fn[this.type].defaults,n),this.$label=this.$element.parent(),this.$choice=this.$label.find('input[type="'+this.type+'"]'),this.groupName=this.$choice.attr("name"),this.$form=this.$choice.closest("form"),this.setState(this.$choice),this.$choice.on("change",e.proxy(this.itemchecked,this)),"checkbox"===this.type&&(this.resetGroup=function(){}),this.otherItem()}return t}(),a=function(a){var n=e.fn[a];e.fn[a]=function(n){var i,o=Array.prototype.slice.call(arguments,1),r=this.each(function(){var r=this,l=e(r),d=l.data(a),s="object"==typeof n&&n;d||l.data(a,d=new t({element:r,options:s})),"string"==typeof n&&(i=d[n].apply(d,o))});return void 0===i?r:i},e.fn[a].defaults={},e.fn[a].noConflict=function(){return e.fn[a]=n,this}};a("checkbox"),a("radio")}(jQuery);var FormModule;!function(e){var t,a=function(){function e(e){var t=e.packageLang,a=e.lang,n=void 0===a?"zh"===$("html").attr("lang")?0:1:a,i=this,o=[],r=["请正确填写您的电子邮箱","请正确填写您的联系电话","日期/时间格式错误","必须填写","请修正此栏位","请输入有效的电子邮箱","请输入有效的网址","请输入有效的日期","请输入有效的日期 (YYYY-MM-DD)","请输入正确的数字","只可输入数字","请输入有效的信用卡号码","你的输入不相同","请输入有效的后缀","请最多选择{0}项","请最少输入{0}位","请输入长度为 {0} 至 {1} 之间的文字","请输入 {0} 至 {1} 之间的数值","请输入不大于 {0} 的数值","请输入不小于 {0} 的数值","文件格式错误，请上传 {0} 格式的文件","上传头像","其他","省/自治区/直辖市","市","区/县","图片","{0} 上传进度：({1}) {2}%","错误：{0}, 内容：{1}{2}","，文件：{0}","文件：{0}，","文件","您上传的{0}大小超出限制，请上传小于{1}的{2}","文件格式错误，请上传 {0} 格式的文件","上传图片","上传文件","查看文件","确定","取消","编辑报名须知内容","编辑","发送验证码","两次密码输入不一致","请输入正确的身份证号码","请输入验证码","请选择","无法上传","获取验证码中，请稍候","发送成功","页面出错","秒后可重发","头像上传中，请稍候"],l=["Please enter a valid email address.","Mobile is invalid.","Please enter a valid date.","This field is required.","Please enter correct content","Invalid  email address.","Please enter a valid email address.","Please enter a valid date.","Please enter a valid date ( ISO ).","Please enter a valid number.","Please enter only digits.","Please enter a valid credit card number.","Please enter the same value again.","Please enter correct suffix","Please select at most {0} option(s).","Please enter at least {0} digits.","Please enter a value between {0} and {1} characters long.","Please enter a value between {0} and {1}.","Please enter a value less than or equal to {0}.","Please enter a value greater than or equal to {0}.","Please upload {0} format files","Upload avatar","Other","Province/Autonomous Region/Municipality directly under the Central Government","City","District/County","Image","{0} Upload progree: ({1}) {2}%","Error: {0}, Message:{1}{2}",", File: {0}"," File: {0}, ","File","The file you uploaded is exceeds limit, Please upload file less than {1}","File format error,  Please upload correct file.({0})","Upload image","Upload file","View file","Save","Cancel","Edit registration note content","Edit","Send me a code","Please repeat the password.","Please enter a valid ID card No.","Please enter a valid code.","Please select"," cannot be uploaded","Verify code sent, Please wait","Verify code sent, Please wait","Error","s Resending","Avatar upload, Please wait"],d=function(){o=Array.isArray(t)&&t.length?t:1===n?l:r},s=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];var n="",i=o.length;return e>0&&i>e&&(n=o[e]),t&&t.forEach(function(e,t){n=n.replace(new RegExp("\\{"+t+"\\}"),e)}),n},c=function(){var e="";return e},u=function(){i.getById=s,i.getByZh=c,d()};u()}return e}(),n=new a({});!function(e){e[e.required=1]="required",e[e.optional=2]="optional",e[e.show=4]="show",e[e.hide=8]="hide"}(t||(t={}));var i=!1,o=function(){function e(e){var t=e.$form,a=(e.pageType,e.language),o=void 0===a?n:a,r=function(){if(i)return!1;var e="has-error",t="has-success",a=function(a,n){void 0===n&&(n=0);var i=$(a),o=i.parent();return o.hasClass("input-group")?o=o.parent():i.hasClass("form-control-inline")?i.closest(".select-box").length||o.filter("span").length||(o=i.wrap("<span>").parent().addClass(i.hasClass("input-sm")?"has-inputsm":"")):i.closest(".goods-item-mobile").length>0&&(o=i.closest(".goods-item-mobile")),i.is(":checkbox,:radio")&&(o=o.closest("div.radio-horizontal,div.radio-vertical,div.checkbox-horizontal,div.checkbox-vertical")),o.addClass("has-feedback"),1===n?o.addClass(e).removeClass(t):2===n&&o.removeClass(e),o};$.validator.setDefaults({highlight:function(e){a(e,1)},unhighlight:function(e){a(e,2)},success:function(e,t){$(t).closest(".has-feedback").removeClass("has-error").addClass("has-success")},ignore:":disabled,.bootstrap-timepicker-hour,.bootstrap-timepicker-minute,.ignore",focusInvalid:!0,errorElement:"small",errorClass:"has-error",onfocusout:function(e){var t=$(e),a=t.attr("name");!this.checkable(e)&&(a in this.submitted||!this.optional(e)||t.attr("required")||this.settings.rules[t.attr("id")]&&this.settings.rules[t.attr("id")].required===!0)&&this.element(e)},errorPlacement:function(e,t){var n=a(t.get(0));if(n.hasClass("input-group"))e.addClass("help-block").insertAfter(n);else{{t.hasClass("form-control-inline")}e.addClass("help-block").appendTo(n)}}}),$.fn.resetForm=function(){var e=$(this),t=e;e.eq(0).is("form")?t=e:(t=e.closest(".has-feedback"),t.removeClass("has-error has-success")),t.find(".has-error.help-block").remove(),t.find(".form-control-feedback").remove(),t.find(".has-error,.has-success").removeClass("has-error has-success")},i=!0},l=function(){var e,a={rules:{},messages:{}},n=$.extend;if(t.find("input,select,textarea").each(function(e,t){var n=$(t),i=n.attr("id"),o=n.attr("name"),r=n.attr("type");i||"radio"===r||"checkbox"===r||(n.attr("id",o),i=o);var l=n.data();a.messages=a.messages||{};var d=a.messages;for(var s in l)if(/^rulemsg/.test(s)){var c=s.match(/rulemsg(\w*)/);if(c){var u=c[1].toLowerCase();d[i]=d[i]||{},d[i][u]=l[s]}}}),d(),t.attr("novalidate")){e=t.validate();var i=e.settings,o=n({},i.messages,a.messages),r=n({},i.rules,a.rules),l=n({},i,a);l.messages=o,l.rules=r,t.validate().settings=l}else e=t.validate(a);return e},d=function(){t.find("input,textarea,select").filter("[required]").each(function(e,t){$(t).closest(".cascade").length>0?0==$(t).closest(".one-cascade").index()&&$(t).closest(".form-group").addClass("form-group-required"):$(t).closest(".form-group").addClass("form-group-required")})},s=function(){var e=function(e){var t=!1,a=[/^([6|9])\d{7}$|^[0][9]\d{8}$|^[6]([8|6])\d{5}$/,/^(86){0,1}1\d{10}$/,/^(00){0,1}(886){1}0{0,1}[6,7,9](?:\d{7}|\d{8}|\d{10})$/,/^(00){0,1}(852){1}0{0,1}[1,5,6,9](?:\d{7}|\d{8}|\d{12})$/,/^(00){0,1}(60){1}1\d{8,9}$/,/^(00){0,1}(65){1}[13689]\d{6,7}$/,/^(00){0,1}(81){1}0{0,1}[7,8,9](?:\d{8}|\d{9})$/,/^(00){0,1}(82){1}0{0,1}[7,1](?:\d{8}|\d{9})$/,/^(00){0,1}(1){1}\d{10,12}$/,/^(00){0,1}(1){1}\d{10}$/,/^(00){0,1}(61){1}4\d{8,9}$/,/^(00){0,1}(64){1}[278]\d{7,9}$/,/^(00){0,1}(355){1}\d{6,15}$/,/^(00){0,1}(54){1}\d{6,12}$/,/^(00){0,1}(971){1}\d{6,12}$/,/^(00){0,1}(968){1}\d{6,15}$/,/^(00){0,1}(994){1}\d{6,15}$/,/^(00){0,1}(353){1}\d{6,12}$/,/^(00){0,1}(20){1}\d{6,12}$/,/^(00){0,1}(372){1}\d{6,12}$/,/^(00){0,1}(244){1}\d{6,15}$/,/^(00){0,1}(43){1}\d{6,12}$/,/^(00){0,1}(853){1}6\d{7}$/,/^(00){0,1}(675){1}\d{6,15}$/,/^(00){0,1}(1242){1}\d{6,12}$/,/^(00){0,1}(970){1}\d{6,15}$/,/^(00){0,1}(973){1}\d{6,15}$/,/^(00){0,1}(507){1}\d{6,12}$/,/^(00){0,1}(55){1}\d{6,12}$/,/^(00){0,1}(375){1}\d{6,12}$/,/^(00){0,1}(359){1}\d{6,12}$/,/^(00){0,1}(229){1}\d{6,15}$/,/^(00){0,1}(32){1}\d{6,12}$/,/^(00){0,1}(48){1}\d{6,12}$/,/^(00){0,1}(591){1}\d{6,15}$/,/^(00){0,1}(501){1}\d{6,12}$/,/^(00){0,1}(226){1}\d{6,15}$/,/^(00){0,1}(240){1}\d{6,15}$/,/^(00){0,1}(45){1}\d{6,12}$/,/^(00){0,1}(49){1}1(\d{5,6}|\d{9,12})$/,/^(00){0,1}(228){1}\d{6,15}$/,/^(00){0,1}(7){1}[13489]\d{9,11}$/,/^(00){0,1}(33){1}(\d{6}|\d{8,9})$/,/^(00){0,1}(63){1}[24579](\d{7,9}|\d{12})$/,/^(00){0,1}(358){1}\d{6,12}$/,/^(00){0,1}(238){1}\d{6,15}$/,/^(00){0,1}(220){1}\d{6,15}$/,/^(00){0,1}(1473){1}\d{6,15}$/,/^(00){0,1}(995){1}\d{6,15}$/,/^(00){0,1}(57){1}\d{6,12}$/,/^(00){0,1}(506){1}\d{6,15}$/,/^(00){0,1}(592){1}\d{6,15}$/,/^(00){0,1}(31){1}6\d{8}$/,/^(00){0,1}(504){1}\d{6,15}$/,/^(00){0,1}(253){1}\d{6,15}$/,/^(00){0,1}(996){1}\d{6,12}$/,/^(00){0,1}(224){1}\d{6,15}$/,/^(00){0,1}(245){1}\d{6,15}$/,/^(00){0,1}(241){1}\d{6,15}$/,/^(00){0,1}(855){1}\d{6,12}$/,/^(00){0,1}(263){1}\d{6,15}$/,/^(00){0,1}(237){1}\d{6,15}$/,/^(00){0,1}(974){1}\d{6,12}$/,/^(00){0,1}(1345){1}\d{6,15}$/,/^(00){0,1}(385){1}\d{6,15}$/,/^(00){0,1}(269){1}\d{6,15}$/,/^(00){0,1}(965){1}\d{6,15}$/,/^(00){0,1}(254){1}\d{6,15}$/,/^(00){0,1}(371){1}\d{6,15}$/,/^(00){0,1}(266){1}\d{6,15}$/,/^(00){0,1}(370){1}\d{6,12}$/,/^(00){0,1}(352){1}\d{6,12}$/,/^(00){0,1}(250){1}\d{6,15}$/,/^(00){0,1}(40){1}\d{6,12}$/,/^(00){0,1}(261){1}\d{6,15}$/,/^(00){0,1}(960){1}\d{6,12}$/,/^(00){0,1}(265){1}\d{6,15}$/,/^(00){0,1}(223){1}\d{6,15}$/,/^(00){0,1}(230){1}\d{6,15}$/,/^(00){0,1}(222){1}\d{6,15}$/,/^(00){0,1}(976){1}\d{6,12}$/,/^(00){0,1}(51){1}\d{6,12}$/,/^(00){0,1}(373){1}\d{6,15}$/,/^(00){0,1}(212){1}\d{6,12}$/,/^(00){0,1}(258){1}\d{6,15}$/,/^(00){0,1}(52){1}\d{6,12}$/,/^(00){0,1}(264){1}\d{6,15}$/,/^(00){0,1}(27){1}\d{6,12}$/,/^(00){0,1}(505){1}\d{6,15}$/,/^(00){0,1}(227){1}\d{6,15}$/,/^(00){0,1}(234){1}\d{6,12}$/,/^(00){0,1}(47){1}\d{6,12}$/,/^(00){0,1}(351){1}\d{6,12}$/,/^(00){0,1}(46){1}[124-7](\d{8}|\d{10}|\d{12})$/,/^(00){0,1}(41){1}\d{6,12}$/,/^(00){0,1}(503){1}\d{6,15}$/,/^(00){0,1}(381){1}\d{6,12}$/,/^(00){0,1}(232){1}\d{6,15}$/,/^(00){0,1}(221){1}\d{6,15}$/,/^(00){0,1}(357){1}\d{6,15}$/,/^(00){0,1}(248){1}\d{6,12}$/,/^(00){0,1}(966){1}\d{6,12}$/,/^(00){0,1}(94){1}\d{6,12}$/,/^(00){0,1}(421){1}\d{6,15}$/,/^(00){0,1}(386){1}\d{6,15}$/,/^(00){0,1}(268){1}\d{6,15}$/,/^(00){0,1}(597){1}\d{6,15}$/,/^(00){0,1}(992){1}\d{6,15}$/,/^(00){0,1}(66){1}[13456789]\d{7,8}$/,/^(00){0,1}(255){1}\d{6,15}$/,/^(00){0,1}(1868){1}\d{6,15}$/,/^(00){0,1}(90){1}\d{6,12}$/,/^(00){0,1}(993){1}\d{6,15}$/,/^(00){0,1}(216){1}\d{6,12}$/,/^(00){0,1}(502){1}\d{6,15}$/,/^(00){0,1}(58){1}\d{6,12}$/,/^(00){0,1}(673){1}\d{6,15}$/,/^(00){0,1}(256){1}\d{6,15}$/,/^(00){0,1}(380){1}[3-79]\d{8,9}$/,/^(00){0,1}(598){1}\d{6,15}$/,/^(00){0,1}(998){1}\d{6,15}$/,/^(00){0,1}(34){1}\d{6,12}$/,/^(00){0,1}(30){1}\d{6,12}$/,/^(00){0,1}(36){1}\d{6,12}$/,/^(00){0,1}(1876){1}\d{6,15}$/,/^(00){0,1}(967){1}\d{6,15}$/,/^(00){0,1}(39){1}[37]\d{8,11}$/,/^(00){0,1}(972){1}\d{6,12}$/,/^(00){0,1}(91){1}\d{6,12}$/,/^(00){0,1}(62){1}[2-9]\d{7,11}$/,/^(00){0,1}(44){1}[347-9](\d{8,9}|\d{11,12})$/,/^(00){0,1}(1284){1}\d{6,12}$/,/^(00){0,1}(962){1}\d{6,12}$/,/^(00){0,1}(84){1}[1-9]\d{6,9}$/,/^(00){0,1}(260){1}\d{6,15}$/,/^(00){0,1}(235){1}\d{6,15}$/,/^(00){0,1}(56){1}\d{6,12}$/,/^(00){0,1}(977){1}\d{6,12}$/,/^(00){1}\d{4,18}$/];return a.forEach(function(a){!t&&a.test(e)&&(t=!0)}),t},a=function(e){var t=["86","886","852","60","65","81","82","1","1","61","64","355","54","971","968","994","353","20","372","244","43","853","675","1242","970","973","507","55","375","359","229","32","48","591","501","226","240","45","49","228","7","33","63","358","238","220","1473","995","57","506","592","31","504","253","996","224","245","241","855","263","237","974","1345","385","269","965","254","371","266","370","352","250","40","261","960","265","223","230","222","976","51","373","212","258","52","264","27","505","227","234","47","351","46","41","503","381","232","221","357","248","966","94","421","386","268","597","992","66","255","1868","90","993","216","502","58","673","256","380","598","998","34","30","36","1876","967","39","972","91","62","44","1284","962","84","260","235","56","977"];return!!t.filter(function(t){return t==e})[0]},i=function(e){var t=!0,a=function(e){for(var t=!0,a=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],n=[1,0,"X",9,8,7,6,5,4,3,2],i=0,o=0,r=0,l=0;17>l;l++)o=+e[l],r=a[l],i+=o*r;var d=n[i%11].toString().toUpperCase(),s=e[17].toUpperCase();return d!==s&&(t=!1),t},n=function(e){var t=!0,a=e.substr(6,8);a=a.replace(/^(\d{4})(\d{2})0?(\d{2})$/,"$1/$2/$3").replace(/\/0?(\d{1,2})/g,"/$1");var n=new Date(a),i=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate();return i!==a&&(t=!1),t};return e&&/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(e)&&/^11|12|13|14|15|21|22|23|31|32|33|34|35|36|37|41|42|43|44|45|46|50|51|52|53|54|61|62|63|64|65|71|81|82|91/.test(e)?18===e.length&&(t=n(e),t&&(t=a(e))):t=!1,t},o=function(e,t,a){$.validator.addMethod(e,t,a)},r=[["mobile",function(t,n){var i=$("#GlobalRoaming");if(i.size()){var o=i.val().split("|")[0].replace(/^0+/,"");if(a(o))return e(o+t)}var r=$(n).data("mainlandmobile"),l=$(n).data("hkmacaotwmobile"),d=$(n).data("intmobile"),s=(t.length,/^(86){0,1}1\d{10}$/),c=/^([6|9])\d{7}$|^[0][9]\d{8}$|^[6]([8|6])\d{5}$/,u=/^\d{7,20}$/,f=0;return r&&l&&d&&e(t)&&f++,r&&s.test(t)&&f++,l&&c.test(t)&&f++,d&&u.test(t)&&f++,f>0?this.optional(n)||!0:this.optional(n)||!1},n.getById(1)],["email",function(e,t){return this.optional(t)||/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(e)},n.getById(0)],["datetime",function(e,t){var a=/(\d{4})[-\/](\d{2})[-\/](\d{2}) (\d{2})[\:](\d{2})/.exec(e);return null==a?this.optional(t)||!1:"Invalid Date"!==new Date(e.replace(/-/g,"/")).toString()&&(this.optional(t)||!0)},$.validator.format(n.getById(2))],["date",function(e,t){var a=/^(\d{4})[-\/](\d{2})[-\/](\d{2})$/.exec(e);if(null==a)return this.optional(t)||!1;var n=+a[1],i=+a[2]-1,o=+a[3],r=new Date(n,i,o);if("Invalid Date"===r.toString())return!1;var l=r.getFullYear(),d=r.getMonth(),s=r.getDate();return n===l&&i===d&&o===s},$.validator.format(n.getById(2))],["equal2",function(e,a,n){var i=t.find(":input").filter(n),o="blur.validate-equal2";return this.settings.onfocusout&&i.off(o).on(o,function(){$(a).valid()}),e===i.val()},n.getById(42)],["identitycode",function(e,t){return this.optional(t)||i(e)},$.validator.format(n.getById(43))]];r.forEach(function(e){o(e[0],e[1],e[2])})},c=function(){return $.extend($.validator.messages,{required:o.getById(3),remote:o.getById(4),email:o.getById(5),url:o.getById(6),date:o.getById(7),dateISO:o.getById(8),number:o.getById(9),digits:o.getById(10),creditcard:o.getById(11),equalTo:o.getById(12),extension:o.getById(13),maxlength:$.validator.format(o.getById(14)),minlength:$.validator.format(o.getById(15)),rangelength:$.validator.format(o.getById(16)),range:$.validator.format(o.getById(17)),max:$.validator.format(o.getById(18)),min:$.validator.format(o.getById(19))}),!0},u=function(){t.find("select").off("change.valid").on("change.valid",function(e){var t=$(e.target);t.valid&&t.valid()}),t.find("input[type=checkbox]").off("click.valid").on("click.valid",function(e){var t=$(e.target);t.valid&&t.valid()})},f=function(){r(),l(),s(),c(),u()};f()}return e}(),r=function(){function e(e){var t,a=e.$form,n=(e.pageType,a.find(":radio,:checkbox,select")),i=function(){},o=function(e,t){$('<i class="ico ico-help"></i>').appendTo(e).popover({container:"body",toggle:"popover",placement:"top",content:t,trigger:"hover",html:!0})},r=function(){n.filter(":radio,:checkbox").each(function(e,t){var a=$(t),n=a.data("info");n&&0==a.closest("label").find(".ico-help").length&&o(a.closest("label"),n)}),n.filter("select").each(function(e,t){var a=$(t),n=a.data("selectpicker");if(n){var i=n.$menu,r=i.find("li");a.find("option").each(function(e,t){var a=$(t),n=a.data("info"),i=a.data("option");if(i){var l=r.eq(e).find("http://newstatic.icrp.xjtu.edu.cn/j/e31-plugin/span.text");l.html(i)}if(n){var l=r.eq(e);o(l.find("a"),n)}})}})},l=function(){i(),$.fn.radio&&n.filter(":radio").radio(),$.fn.checkbox&&n.filter(":checkbox").checkbox(),$.fn.selectpicker&&n.filter("select").selectpicker(),r()};!function(e){e[e.radio=0]="radio",e[e.checkbox=1]="checkbox",e[e.select=2]="select",e[e.other=3]="other"}(t||(t={}));var d=function(e){return"select"===e.prop("tagName").toLowerCase()?t.select:"radio"===e.attr("type")?t.radio:"checkbox"===e.attr("type")?t.checkbox:t.other},s=function(){n.each(function(e,t){var a=$(t),i=a.data("value"),o=d(a),r=a.attr("name");void 0!==i&&(2===o||3===o)&&(n.filter("[name="+r+'][value="'+i+'"]').prop("checked",!0),n.filter("[name="+r+"]").removeAttr("data-value").each(function(e,t){$(t).data("value",void 0)}))})},c=function(){var e=n.closest(".form-group").find("label .form-control");e.on("change",function(e){var t=$(e.target),a=t.val(),n=t.closest("label"),i=a?"check":"uncheck";n.find("input:checkbox").checkbox(i),n.find("input:radio").radio(i)})},u=function(){var e=n.filter("select");e.on("change",function(e){var t=$(e.target).closest("select"),a=$(e.target).find("option:selected").data("option");if(a&&!t.attr("multiple"))t.siblings(".bootstrap-select").find(".filter-option").html(a);else if(a&&"multiple"==t.attr("multiple")){var n=$(e.target).find("option:selected");if(n.length>0){for(var a="",i=0;i<n.length;i++){var o=n.eq(i).data("option");a+=o+","}a=a.substring(0,a.length-1),t.siblings(".bootstrap-select").find(".filter-option").html(a)}else t.siblings(".bootstrap-select").find(".filter-option").html("")}var r=t.closest(".control-input").find(".form-control-other"),l=!1;t.find("option:last-child").val()&&t.val()===t.find("option:last-child").val()&&(l=!0),r.length&&r.toggleClass("hide",!l)}).trigger("change");var t=e.closest(".form-group").find(".form-control-other");t.on("change",function(e){var t=$(e.target),a=t.closest(".form-group").find("select");a.find("option:last-child").val(t.val()||a.find("option:last-child").data("value"))}),t.each(function(e,t){var a=$(t),n=a.closest(".form-group").find("select").find("option:last-child").data("value"),i=a.closest(".form-group").find("select");i.find("option:last-child").val(a.val()||i.find("option:last-child").data("value")),a.val()==n&&a.val("")})},f=function(){s(),l(),c(),u()};f(),this.init=f}return e}(),l=function(){function e(e){var t=e.$form,a=e.pageType,n=void 0===a?0:a,i=(e.pickerClassName,t.find(".form-control-datetimepicker,.form-control-datepicker,.form-control-timepicker")),o="",r=function(){return o||(o=$("html").attr("lang")||"zh"),o},l=function(e,a){void 0===a&&(a="YYYY-MM-DD HH:mm");var n=!0;"YYYY-MM-DD"===a&&(n=!1);var i="en-us";"zh"===r()&&(i="zh-cn"),e.datetimepicker({format:a,forceParse:!0,startDate:new Date,language:i,autoclose:!0,pickTime:n}).on("changeDate",function(){t.validate().element(e)})},d=function(){i.each(function(e,t){var a=$(t);a.hasClass("form-control-datetimepicker")?a.attr("type","datetime-local"):a.hasClass("form-control-datepicker")?a.attr("type","date"):a.hasClass("form-control-timepicker")&&a.attr("type","time")})},s=function(){i.each(function(e,a){var n=$(a),i="YYYY-MM-DD HH:mm",o="date";n.hasClass("form-control-datetimepicker")?(i="YYYY-MM-DD HH:mm",o="datetime"):n.hasClass("form-control-datepicker")?(i="YYYY-MM-DD",o="date"):n.hasClass("form-control-timepicker")&&(i="HH:mm",o="time"),t.hasClass("form-horizontal-filter")||(n.wrap('<div class="input-group input-group-'+o+'"></div>'),n.parent().append('<span class="input-group-addon"><span class="ico"></span></span>')),l(n,i)})},c=function(){1===n?d():s()};c()}return e}(),d=function(){function e(e){var t=e.$form,a=e.pageType,n=void 0===a?0:a,i=t.find(".goods-item-mobile"),o=t.find(".goods-item-pc"),r=function(){s(i),c(i)},l=function(){s(o),c(o),u(o),o.on("click","img",function(){var e=$(this).attr("src"),t=$(this).closest(".goods-item-pc").find(".goods-name").text();$(".goods-large-pic").find("img").attr("src",e),$(".goods-large-pic").find(".tit").text(t),$(".goods-large-pic").modal("show")})},d=function(){$("#BtnPriceDetail:visible").length>0&&(priceDetailAndTotal.getOrderDataFromDom(),priceDetailAndTotal.computePriceAndDetailHtml())},s=function(e){e.find("input[type=text]").each(function(t,a){var n,i,o=parseInt($(a).data("max")),r=parseInt($(a).data("min")),l=parseInt($(a).closest(e).find(".num").text());n=o&&l?o>l?l:o:o?o:l?l:"",n?($(a).data("max",n),$(a).attr("max",n)):$(a).removeAttr("max"),r&&$(a).prop("required")?(i=r,$(a).attr("min",r)):r?(i=0,$(a).removeAttr("min")):$(a).prop("required")&&(i=1,$(a).attr("min","1")),i&&parseInt($(a).val())<=parseInt(i)?$(a).siblings(".num-minus").addClass("disabled"):$(a).prop("readonly")||$(a).siblings(".num-minus").removeClass("disabled"),0==$(a).val()&&$(a).siblings(".num-minus").addClass("disabled"),n&&parseInt($(a).val())>=n?$(a).siblings(".num-add").addClass("disabled"):$(a).prop("readonly")||$(a).siblings(".num-add").removeClass("disabled")})},c=function(e){e.on("click",".goods-toggle",function(){$(this).closest(".goods-item-mobile").toggleClass("hide-detail")}),e.on("click",".num-minus",function(){var e=$(this),t=e.siblings("input");if(!e.hasClass("disabled")&&"true"!=t.data("nochange")){if(t.val()>0){if(t.data("min")&&t.data("min")==t.val()){{e.data("unit")||"",t.data("min")}t.val(0)}else t.val(Number(t.val())-1);t.prop("required")&&(t.data("min")?t.val()==t.data("min")&&e.addClass("disabled"):1==t.val()&&e.addClass("disabled")),0==t.val()&&e.addClass("disabled")}(!t.data("max")||t.val()<t.data("max"))&&e.siblings(".num-add").removeClass("disabled"),t.closest("form").validate().element(t),d()}}),e.off("click",".num-add").on("click",".num-add",function(){var e=$(this),t=e.siblings("input");e.hasClass("disabled")||"true"==t.data("nochange")||(e.siblings(".num-minus").removeClass("disabled"),t.data("min")&&t.val()<t.data("min")?t.val(t.data("min")):t.data("max")&&t.val()<t.data("max")?t.val(Number(t.val())+1):t.data("max")||t.val(Number(t.val())+1),t.data("max")&&t.val()==t.data("max")&&e.addClass("disabled"),t.closest("form").validate().element(t),d())}),e.on("input propertychange",".form-control",function(){$(this).val()>=0&&d(),s($(this).closest(e))})},u=function(e){var t='<div class="modal fade goods-large-pic">                    <div class="modal-dialog modal-dialog-cus-ok">                        <div class="modal-content">                            <button type="button" class="close-modal" data-dismiss="modal"></button>                            <div class="modal-body">                                <img src="">                                <p class="tit"></p>                            </div>                        </div>                    </div>                </div>';e.length>0&&0==$(".goods-large-pic").length&&$("body").append(t)},f=function(){1===n?r():l()};f()}return e}(),s=function(){function e(e){var t=e.$form,a=(e.pageType,t.find(".cascade")),i=function(){a.on("change","select",function(){var e=$(this).closest(".one-cascade").index(),t=$(this).closest(".cascade"),a=t.siblings(".cascade-hidden-input").data("value");a="string"==typeof a?JSON.parse(a):a,o(a,e,t),l(t),$(this).closest("form").validate().element($(this)),$(this).closest("form").validate().element(t.siblings(".cascade-hidden-input"))})},o=function(e,t,a){var n,i=a.find("select").eq(t).val();if(!i)return a.find(".one-cascade:gt("+t+")").remove(),void a.find("select").selectpicker("refresh");switch(t){case 0:n=e[i],a.find(".one-cascade:gt(1)").remove();break;case 1:var o=a.find("select:eq(0)").val();n=e[o].Children[i],a.find(".one-cascade:eq(3)").remove();break;case 2:var o=a.find("select:eq(0)").val(),l=a.find("select:eq(1)").val();n=e[o].Children[l].Children[i];break;case 3:var o=a.find("select:eq(0)").val(),l=a.find("select:eq(1)").val(),d=a.find("select:eq(2)").val();n=e[o].Children[l].Children[d].Children[i]}if(n.IsContainChildren){var s=n.Children;r(s,t,a)}else a.find(".one-cascade:gt("+t+")").remove(),a.find("select").selectpicker("refresh")},r=function(e,t,a){if(a.find("select").length<=t+1){var i=t+1,o=a.siblings(".cascade-hidden-input").attr("name");a.append("<div class='one-cascade'><select class='selectpicker form-control' name='lv"+i+o+"' required='required'></select></div>")}a.find("select:gt("+t+")").find("option").remove(),a.find("select:gt("+t+")").append('<option value="">--'+n.getById(45)+"--</option>");for(var r=0;r<e.length;r++){var l=e[r].Name,d=e[r].Value.replace(/</g,"&lt;").replace(/>/g,"&gt;");a.find("select").eq(t+1).append('<option value="'+l+'">'+d+"</option>")}a.find("select").selectpicker("refresh")},l=function(e){for(var t=e.find("select").length,a="",n=0;t>n;n++)""!=e.find("select").eq(n).val()&&(a+=e.find("select").eq(n).find("option:selected").text().replace(/</g,"&lt;").replace(/>/g,"&gt;")+" - ");a=a.substring(0,a.length-3),e.siblings(".cascade-hidden-input").val(a)},d=function(){i()};d()}return e}(),c=function(){function e(e){var t=e.$form,a=e.pageType,i=void 0===a?0:a,o=e.language,r=void 0===o?n:o,l=[],d="SanJiDiZhiLianDong",s=1===i,c="selectpicker";s&&(c="selectpicker form-control");var u,f,p,m=function(e){var t=$(),a=$(),n=[-1,-1,-1],i=$(),o="",l=[],f=[],p=[],m=e.data;if(!m)return{getVal:function(){return""},setVal:function(){},isFilling:function(){},on:function(){}};t=e.$main,i=e.$inputHidden,i.prop("disabled")&&(o="disabled");var h=function(e){e=e||6;var t="col-sm-4 col-xs-"+e;return'<div class="'+t+'"><select '+o+' class="'+c+'"><option></option></select></div>'},v=function(){var e;e=s?'<div class="row row-'+d+'">'+(h(6)+h(6)+h(12))+"</div>":'<div class="row row-'+d+'">'+(h(4)+h(4)+h(4))+"</div>",0==t.find(".row-"+d).length&&t.find(".control-input").append(e),a=t.find("select")},g=function(e){e=e||[],l=e.map(function(e){return e.n}),f=e.map(function(e){var t=e.l||[],a=t.map(function(e){return e.n});return a}),p=e.map(function(e){var t=e.l||[],a=t.map(function(e){var t=e.l||[],a=t.map(function(e){return e.n});return a});return a})},b=function(e,t,a){var n=[r.getById(23),r.getById(24),r.getById(25)],i=function(e,t,a){var n=[];return n.push('<option value="-1">--'+a+"--</opiton>"),Array.isArray(e)&&e.forEach(function(e,a){n.push('<option value="'+a+'"'+(t===a?' selected="selected"':"")+">"+e+"</opiton>")}),n.join("")};e.forEach(function(e,o){var r="",l=[],d=-1,s=-1;0===o&&(d=a[0],l=e),1===o&&(d=a[1],s=a[0],-1!==s&&(l=e[a[0]])),2===o&&(d=a[2],s=a[1],-1!==s&&(l=e[a[0]][a[1]])),1===l.length&&(d=0,a[o]=0),r=i(l,d,n[o]),t.eq(o).html(r),$("select").selectpicker("refresh")})},y=function(e,t){var a=!1,i=!1,o=0;e.each(function(e,t){var i=+$(t).val();a||-1!==i||(a=!0),a&&(i=-1),n[e]=i}),t&&(i=!0,o=e.index(t),1>o&&(n[1]=-1),2>o&&(n[2]=-1))},k=function(e){void 0===e&&(e=!1),s||($.fn.selectpicker&&a.selectpicker(e?"refresh":void 0),t.find(".bootstrap-select").css("width","100%"))},w=function(){a.on("change",function(){y(a,$(this)),b([l,f,p],a,n),k(!0),u.setVal()})},x=function(){return-1!==n[2]?l[n[0]]+" "+f[n[0]][n[1]]+" "+p[n[0]][n[1]][n[2]]:""},C=function(e){var t=[];return e&&(t=e.split(" ")),t&&t.length&&""!==t[0]&&(l.forEach(function(e,a){t[0]===e&&(n[0]=a)}),f[n[0]].forEach(function(e,a){t[1]===e&&(n[1]=a)}),p[n[0]][n[1]].forEach(function(e,a){t[2]===e&&(n[2]=a)})),n},I=function(){return-1!==n[0]&&-1===n[2]},B=function(){v(),g(m),C(i.val()),b([l,f,p],a,n),k()};return B(),{getVal:x,setVal:C,isFilling:I,on:w}},h=function(e){var t,a,n,i="";t=e.$main,n=e.$inputHidden,n.prop("disabled")&&(i="disabled");var o=function(){0==t.find(".con-address").length&&t.find(".control-input").append('<div class="con-address"><input type="text" '+i+' class="form-control" value="" /></div>'),a=t.find("input.form-control")},r=function(){a.on("blur",function(){u.setVal()})},l=function(){return a.val()},d=function(e){var t=[];e&&(t=e.split(" ")),t&&t.length&&""!==t[0]&&a.val(t[3])};return o(),d(u.getVal()),{getVal:l,setVal:d,on:r}},v=function(e){var t,a,n,i,o,r="",l=function(e,t){void 0===e&&(e=f.getVal()),void 0===t&&(t=p.getVal());var n=e+" "+t;if(e&&t?o=!0:n="",a.val(n),i){var r=!1;(f.isFilling()||""===t)&&(r=!0),f.isFilling()||""!==e||""!==t||(r=!1),f.isFilling()||""!==e||""===t||(r=!0),f.isFilling()||""===e||""!==t||(r=!0),f.isFilling()||""===e||""===t||(r=!1),s(r),o&&a.valid()}},d=function(){return a.val()||""},s=function(e){void 0===e&&(e=!1),a.attr("required",e?"required":""),a.prop("required",e)};return t=e.$main,a=e.$inputHidden,n=e.isRequired||!1,i=!n,o=!1,r=d(),{setRequired:s,setVal:l,getVal:d}},g=function(e){l=e=e||l;var a,n,i;n=t.find('input[name="'+d+'"]'),a=n.closest(".form-group"),i=n.prop("required"),u=v({$main:a,$inputHidden:n,isRequired:i}),f=m({$main:a,$inputHidden:n,data:e}),p=h({$main:a,$inputHidden:n}),f.on(),p.on()},b=function(){$.ajax({dataType:"json",url:"http://newstatic.icrp.xjtu.edu.cn/Json/locale.json"}).done(function(e){g(e)})};t.find("input[name="+d+"]").length&&b()}return e}(),u=function(){function e(e){var t=e.$form,a=e.pageType,i=void 0===a?0:a,o=e.fileDomain,r=e.staticDomain,l=e.language,d=void 0===l?n:l,s=1===i,c=$.extend,u=(window.console&&window.console.log||function(){},function(e){void 0===e&&(e={});var t={runtimes:"html5,flash,silverlight,html4",browse_button:"pickfiles",url:"http://newstatic.icrp.xjtu.edu.cn/j/e31-plugin/upload.php",flash_swf_url:"../../app/plupload/Moxie.swf"/*tpa=http://newstatic.icrp.xjtu.edu.cn/app/plupload/Moxie.swf*/,silverlight_xap_url:"http://newstatic.icrp.xjtu.edu.cn/app/plupload/Moxie.xap",multipart_params:{ASPSESSID:"b5fm1jfftmjndl55mecj0wv5"},filters:{max_file_size:"20mb",mime_types:[{title:d.getById(26),extensions:"jpg,jpeg,gif,png"}]},init:{Init:function(){f()},PostInit:function(){},FilesAdded:function(e,t){t.forEach(function(e){u('<div id="'+e.id+'">'+e.name+" ("+window.plupload.formatSize(e.size)+") <b></b></div>")}),n&&n.FilesAddedCallBack&&n.FilesAddedCallBack(e,t),e.refresh(),p.start()},UploadProgress:function(e,t){n&&n.UploadProgressCallBack&&n.UploadProgressCallBack(e,t),u(d.getById(27,t.name,window.plupload.formatSize(t.size),t.percent))},FileUploaded:function(e,t,a){if(u(""),n&&n.FileUploadedCallBack){var i=n.FileUploadedCallBack(e,t,a);i&&u(d.getById(20,i||""))}},UploadComplete:function(e,t){n&&n.UploadCompleteCallBack&&n.UploadCompleteCallBack(e,t)},Error:function(e,t){n&&n.ErrorCallBack&&n.ErrorCallBack(e,t);var i=d.getById(28,""+t.code,t.message,""+(t.file?d.getById(29,t.file.name):""));if(-200===t.code&&(i=(t.file?d.getById(30,t.file.name):"")+" "+t.file.name.split(".").pop().toLowerCase()+d.getById(46)),-600===t.code){var o=e.getOption().filters,r=o.max_file_size.toLocaleUpperCase().replace(/MB/,"M"),l=d.getById(31),s=o.mime_types;
s&&s[0]&&(l=s[0].title||d.getById(31)),i=d.getById(32,l,r,l)}-601===t.code&&(i=d.getById(33,a.filters&&a.filters.mime_types&&a.filters.mime_types[0].extensions||"")),u(i)}}},a=c({},t,e),n=a.init=c({},t.init,e.init),i=e&&e.browse_button||"",o=$(i),r=o.closest(".form-group"),l=o.next(".help-upload"),s=function(){return l&&l.length||(l=$('<div class="help-upload"></div>').insertAfter(o)),l},u=function(e){e?s().html(e):(l.remove(),l=$())},f=function(){var e;r.length&&(e=r.find("input[type=file]"),e.each(function(e,t){var a=$(t),n=a.attr("accept");n.match(/text\/csv/)&&!n.match(/\.csv/)&&a.attr("accept",n+",.csv");var i=$(t).closest(".form-group").find(".pluploadpicker");i.length>0&&"image"==i.data("type")&&$(t).attr("accept","image/*")}))},p=new plupload.Uploader(a);p.init()}),f=function(e){var t=e.$input,a=e.url,n=e.mime_types_title,i=t.data(),o=t.val(),r=i.btnTxt,l=i.ruleFile,c=i.maxFileSize,f=i.type,p="*",m=t.attr("disabled");"image"===f?(n=n||d.getById(26),r=d.getById(r?21:34),c=c||"10mb"):(n=n||d.getById(31),r=d.getById(35),c=c||"20mb");var h="";"image"===f&&(h=t.after('<div class="tailoringImgLoading" style="color: #ff811e;display: none;">'+d.getById(51)+"</div>")),h=s||"image"!==f?t.after('<div class="btn-con"><span class="btn btn-default btn-file">'+r+"</span></div>").next().find(".btn"):m?t.after('<div class="btn-con"><span class="btn btn-default btn-file" data-target="#myModal">'+r+"</span></div>").next().find(".btn"):t.after('<div class="btn-con"><span class="btn btn-default btn-file" data-toggle="modal" data-target="#myModal">'+r+"</span></div>").next().find(".btn");var v=$(),g=function(){return v.length||(v=t.after('<div class="file-list"></div>').next()),v},b=function(e){e&&g().html('<div><a class="btn btn-link" href="'+e+'" target="_blank">'+d.getById(36)+"</a></div>")};"image"===f&&(g=function(){return v.length||(v=t.after('<div class="file-list-image"></div>').next()),v},b=function(e){e&&g().html('<div style="width:100px;height:100px;"><img id=\'finalImg\' src="'+e+"\" height='100 %' /></div>")});var y={browse_button:h.get("image"===f?1:0),url:a,filters:{max_file_size:c,mime_types:[{title:n,extensions:p}]},multi_selection:!1,init:{FileUploadedCallBack:function(e,a,n){var i=JSON.parse(n.response),o="",r=function(){t.val(i.url),b(i.url)};if(0===i.code){var d=l;if(d?"*"===d&&(d=""):d="image"===f?"png,jpg,jpeg,bmp":"doc,docx,ppt,pptx,xls,txt,xlsx,pdf,png,jpg,jpeg,bmp,rar,zip",d){var s=new RegExp("("+d.split(",").join("|")+")$","i");s.exec(i.urlRelative)?r():o=d}else r()}return t.valid(),o}}};u(y),o&&b(o)},p=function(){var e=function(){if(window.plupload){var a=t.find(".pluploadpicker");a.length&&a.filter(":not(.pluploadpicker-ed)").each(function(e,t){var a=$(t);f({$input:a,url:"/ForwardHandler.ashx?_ForwardUrl="+o+"/FileUpload"}),a.addClass("pluploadpicker-ed")})}else setTimeout(function(){e()},1e3)};s?($("#scriptPlupload").length||$("body").append('<script id="scriptPlupload" src="'+r+'/app/eventla/plupload.custom.js"></script>'),e()):e()};p()}return e}(),f=function(){function e(e){var t=e.$form,a=(e.pageType,e.language),i=void 0===a?n:a,o=function(e){var t,a=e.textareaHtml,n=e.inputData,o=function(e){var t="";return e&&(t='<div class="modal fade in'+(e.modalClass?" modal-md-"+e.modalClass:"")+'">\n							<div class="modal-dialog" role="document">\n								<div class="modal-content">\n									<div class="modal-header">\n										<h5>\n											'+e.modalHead+'\n											<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n												<span aria-hidden="true">&times;</span>\n												<span class="sr-only">Close</span>\n											</button>\n										</h5>\n									</div>\n									<div class="modal-body">\n										'+e.html+'\n									</div>\n									<div class="modal-footer">\n										<span class="btn btn-primary btn-submit">'+i.getById(37)+'</span>\n										<span class="btn btn-default" data-dismiss="modal" aria-label="Close">'+i.getById(38)+"</span>\n									</div>\n								</div>\n							</div>\n						</div>"),t},r="",l='<form>\n					<div class="form-group">\n						<textarea>'+a+"</textarea>\n					</div>\n				</form>";return r=o({html:l,modalClass:"ckeditor",modalHead:i.getById(39)}),t=$(r).appendTo("body"),n&&t.find("textarea").data(n),t},r=function(){return!!window.CKEDITOR},l=function(e){var t,a=$(e),n=a.data("ckeditorType"),r=!0,l=function(e){return e.ckeditor({toolbar:[{name:"basicstyles",items:["Bold","Italic","Underline","RemoveFormat"]},{name:"styles",items:["FontSize"]},{name:"links",items:["Link"]}]}).editor},d=function(e,t){e.on("change",function(){var e=t.closest("form");e.length&&e.validate&&e.validate().element(t)}),window.CKFinder.setupCKEditor(e,"/app/ckfinder/")},s=function(e){if(e.addClass("hide"),e.next(".btn").length)return!1;var t=e.after('<span class="btn btn-default">'+i.getById(40)+"</span>").next(),a=e.data(),n=function(){var t=$(".modal-md-ckeditor");t.length&&t.remove(),t=o({textareaHtml:e.val(),inputData:a});var n=t.find("textarea"),i=l(n);d(i,e),t.on("click",".modal-footer .btn-submit",function(){var a=n.val();e.val(a).trigger("change"),t.modal("hide")}),t.modal("show")};return t.on("click",function(){n()}),!0};2===n?t=l(a):3===n?(r=!1,s(a)):t=a.ckeditor().editor,r&&d(t,a)},d=function(){c.each(function(e,t){l($(t))})},s=function(){r()?d():setTimeout(function(){s()},100)},c=t.find(".form-ckeditor"),u=!1;c.length&&(u=!0),u&&s()}return e}(),p=function(){function e(e){var a=e.$form,n=(e.form,e.rules),i=e.validRules,o=a.find(":input"),r=a.find(":radio:checked,:checkbox:checked,select option:selected"),l=function(e){var t=e.attr("type");"checkbox"===t?e.checkbox("uncheck"):"radio"===t?e.radio("uncheck"):"SELECT"===e.prop("tagName")?(e.val(""),$.fn.selectpicker&&e.selectpicker("refresh")):"TEXTAREA"===e.prop("tagName")?e.val(""):"hidden"===t?e.val(""):e.closest(".goods-item-pc").length>0||e.closest(".goods-item-mobile").length>0?(e.val("0"),$("#BtnPriceDetail:visible").length>0&&(priceDetailAndTotal.getOrderDataFromDom(),priceDetailAndTotal.computePriceAndDetailHtml())):e.val("")},d=function(e,t){e&&e.length&&e.forEach(function(e){var a=o.filter('[name="'+e+'"]');a.closest(".form-group").toggleClass("hide",!t),(a.closest(".goods-item-pc").length>0||a.closest(".goods-item-mobile").length>0)&&(a.val(a.data("default")),$("#BtnPriceDetail:visible").length>0&&(priceDetailAndTotal.getOrderDataFromDom(),priceDetailAndTotal.computePriceAndDetailHtml())),t||l(a)})},s=function(e,t){e&&e.length&&e.forEach(function(e){var a=o.filter('[name="'+e+'"]');(a.closest(".goods-item-pc").length>0||a.closest(".goods-item-mobile").length>0)&&(t?a.attr("min",1):a.removeAttr("min")),a.prop("required",t),!t&&a&&a.length>0&&a.blur(),a.closest(".form-group").toggleClass("form-group-required",t)})},c=function(e,a){Array.isArray(e)||(e=[e]),a===t.required?s(e,!0):a===t.optional?s(e,!1):a===t.show?d(e,!0):a===t.hide&&d(e,!1)},u=function(e){var t=$(e),a=t.attr("type"),n=function(e){void 0===e&&(e=!1);var a=t.data(),n=a.relyShow,i=a.relyHide,o=a.relyRequired,r=a.relyOptional,l=!0;e&&(l=t.is(":checked")),d(n,l),d(i,!l),s(o,l),s(r,!l)};if("radio"===a)n();else if("checkbox"===a)n(!0);else{var i=t.closest("select");i.length&&n(i.prop("multiple")||!1)}},f=function(){r.each(function(e,t){return u(t)})},p=function(e){var n;n=JSON.stringify("string"==typeof e.JoinCateFieldNames?e.JoinCateFieldNames.split(","):e.JoinCateFieldNames);var i=a.find('input[name="'+e.DependJoinCateFieldName+'"][value="'+e.DependJoinCateFieldValue+'"]');i.length||(i=a.find('select[name="'+e.DependJoinCateFieldName+'"]').find('[value="'+e.DependJoinCateFieldValue+'"]')),i.attr("data-rely-"+t[e.Action],""+n)},m=function(){n&&n.forEach(function(e){return p(e)}),i&&i.forEach(function(e){return c(e.JoinCateFieldNames,e.Action)})},h=function(){a.on("http://newstatic.icrp.xjtu.edu.cn/j/e31-plugin/change.rely",":radio,:checkbox",function(e){return u(e.target)}),a.on("http://newstatic.icrp.xjtu.edu.cn/j/e31-plugin/change.rely","select",function(e){var t=$(e.target).find("option"),a=(t.filter(":not(:selected)"),t.filter(":selected"));a.each(function(e,t){u(t)})})},v=function(){m(),f(),h()};v(),this.init=v}return e}(),m=function(){function e(e){var t,a,i=e.$form,o=(e.pageType,e.inputNameValidating),r=void 0===o?"Mobile":o,l=e.inputNameCode,d=void 0===l?"formVerifyMobile":l,s=e.language,c=void 0===s?n:s,u=i.find("input[name="+d+"]"),f=u.closest(".form-group"),p=c.getById(41),m=function(){p=u.data("btnTxt")||p;var e=u.wrap("<div />").parent().addClass("input-group input-group-validate");e.append('<span class="input-group-btn"><span class="btn btn-default">'+p+"</span></span>"),a=e.find(".btn")},h=function(e){void 0===e&&(e=!1),t=i.find('input[name="'+r+'"]'),t.length||e||(r="MobilePhone",h(!0))},v=function(){return t.val()||""},g=function(){var e=v(),t="Key",a=$("html").attr("lang"),n=u.attr("data-rule-remote");n&&(n=u.attr("data-rule-remote").replace(/\?.*$/,""),n=n+"?"+t+"="+e+"&lang="+a,u.attr("data-rule-remote",n),u.data("ruleRemote",n))},b=function(){var e=0;a.attr("disabled","disabled"),u.val("");var t=60,n=window.setInterval,i=window.clearInterval;e=n(function(){t--,-1===t?(a.removeAttr("disabled"),a.html(""+p),i(e)):a.html(t+c.getById(50))},1e3)},y=function(){var e=!1,n=window.util&&window.util.alertError||window.alert;a.on("click",function(){var a=$("#GlobalRoaming").val(),i=a&&a.split("|")[0].replace(/^0+/,""),o=v(),r=t.valid(),l=$.ajax,d=u.data("sendUrl"),s={Key:o,GlobalRoaming:i};d&&r&&!e?(e=!0,l({url:d,data:s,type:"post"}).done(function(e){0===e.code?(b(),g(),window.util&&window.util.alertOK(c.getById(48))):(b(),g(),window.util&&window.util.alertError(e.msg))}).always(function(){e=!1})):d&&r&&e?n(c.getById(47)):d&&!r||n(c.getById(49))}),t.on("change",function(){var e=t.valid();e?g():u.data("ruleRemote","")})},k=function(){u.length&&(f.addClass("form-group-mobile-validate"),u.attr("placeholder",n.getById(44)),u.attr("maxlength","6"),h(),m(),y())};k()}return e}(),h=function(){function e(e){var t,n,i,h,v,g,b,y,k,w=e.$form,x=e.pageType,C=void 0===x?0:x,I=e.rules,B=e.validRules,D=e.language,A=this,T=function(){w.find('input[type="text"]').val(""),w.find("select").val(""),w.find("input:radio,input:checkbox").filter(":checked").each(function(e,t){$(t).prop("checked",!1)})},q=function(){w.off("http://newstatic.icrp.xjtu.edu.cn/j/e31-plugin/change.trim").on("http://newstatic.icrp.xjtu.edu.cn/j/e31-plugin/change.trim","input",function(e){var t=$(e.target),a=t.val();"text"===t.attr("type")&&/^\s|\s$/.test(a)&&t.val($.trim(a))})},F=function(){A.reset=T,D||(D=new a({})),t=new p({$form:w,form:A,rules:I,validRules:B}),n=new r({$form:w,pageType:C}),i=new l({$form:w,pageType:C}),h=new c({$form:w,pageType:C}),fourLevelCascade=new s({$form:w,pageType:C}),goodsField=new d({$form:w,pageType:C}),v=new u({$form:w,pageType:C,fileDomain:window.NewFileDomain,staticDomain:window.StaticUrl}),g=new f({$form:w,pageType:C}),y=new m({$form:w,pageType:C}),k=new m({$form:w,pageType:C,inputNameValidating:"Email",inputNameCode:"formVerifyEmail"}),b=new o({$form:w,pageType:C}),q(),$.fn.selectpicker&&$("select").selectpicker("refresh")};F()}return e}();e.Form=h}(FormModule||(FormModule={})),!function(){$(".checkbox-horizontal,.checkbox-vertical,.radio-horizontal,.radio-vertical").find("input:radio,input:checkbox").each(function(e,t){$(t).closest("form").length||($(t).filter(":radio").radio(),$(t).filter(":checkbox").checkbox())}),setTimeout(function(){$('a.btn-link[data-toggle="popover"]').popover()},0),$("form").on("keyup","input[name=password]",function(){var e=new RegExp("^(?=.{8,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$","g"),t=new RegExp("^(?=.{7,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[0-9]))).*$","g"),a=new RegExp("(?=.{6,}).*","g"),n=$(this).val(),i=$(this).closest("form").find(".password-strong");i.removeClass("pw-weak"),i.removeClass("pw-medium"),i.removeClass("pw-strong"),a.test(n)&&i.addClass(e.test(n)?"pw-strong":t.test(n)?"pw-medium":"pw-weak")})}();